<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>AWS on Hacking Blog</title><link>https://hack.com.cy/categories/aws/</link><description>Recent content in AWS on Hacking Blog</description><generator>Hugo</generator><language>en</language><lastBuildDate>Thu, 01 Jan 2026 02:13:14 +0200</lastBuildDate><atom:link href="https://hack.com.cy/categories/aws/index.xml" rel="self" type="application/rss+xml"/><item><title>All in one cheat-sheet for AWS Enumeration</title><link>https://hack.com.cy/notes/cloud/aws/all-in-one/all-in-one/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/cloud/aws/all-in-one/all-in-one/</guid><description>&lt;h1 id="-aws-cli-privilege-escalation--recon-playbook">ðŸ” AWS CLI Privilege Escalation &amp;amp; Recon Playbook&lt;/h1>
&lt;hr>
&lt;h1 id="1-identity--who-am-i">&lt;strong>1. Identity â€“ Who am I?&lt;/strong>&lt;/h1>
&lt;h3 id="get-current-identity">Get current identity&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws sts get-caller-identity --profile &amp;lt;profile&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Returns &lt;strong>Account ID, User ID, and ARN&lt;/strong> of your current identity.&lt;br>
Confirms if you are a &lt;strong>user&lt;/strong>, a &lt;strong>role&lt;/strong>, or a &lt;strong>temporary session (STS)&lt;/strong>.&lt;/p>&lt;/blockquote>
&lt;h3 id="get-account-alias">Get account alias&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-account-aliases --profile &amp;lt;profile&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Displays the friendly &lt;strong>account alias&lt;/strong> (instead of numeric ID).&lt;br>
Useful if multiple accounts are in play.&lt;/p></description></item><item><title>Basic AWS Penetration Testing</title><link>https://hack.com.cy/notes/cloud/aws/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/cloud/aws/</guid><description>&lt;h2 id="techniques">Techniques&lt;/h2>
&lt;h1 id="all-in-one">&lt;a href="https://hack.com.cy/notes/cloud/aws/all-in-one/all-in-one/">All-in-one&lt;/a>&lt;/h1>
&lt;h1 id="iam">&lt;a href="https://hack.com.cy/notes/cloud/aws/iam/iam/">IAM&lt;/a>&lt;/h1>
&lt;h1 id="s3">&lt;a href="https://hack.com.cy/notes/cloud/aws/s3/s3/">S3&lt;/a>&lt;/h1>
&lt;h1 id="ec2">&lt;a href="https://hack.com.cy/notes/cloud/aws/ec2/ec2/">EC2&lt;/a>&lt;/h1>
&lt;h1 id="lambda">&lt;a href="https://hack.com.cy/notes/cloud/aws/lambda/lambda/">Lambda&lt;/a>&lt;/h1>
&lt;h1 id="beanstalk">&lt;a href="https://hack.com.cy/notes/cloud/aws/elastic-beanstalk/beanstalk/">Beanstalk&lt;/a>&lt;/h1></description></item><item><title>Basic EC2 Enumeration Cheet Sheet</title><link>https://hack.com.cy/notes/cloud/aws/ec2/ec2/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/cloud/aws/ec2/ec2/</guid><description>&lt;h3 id="1-list-ec2-instances">&lt;strong>1. List EC2 Instances&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws ec2 describe-instances --region &lt;span class="o">[&lt;/span>region&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Shows instance IDs, public IPs, AMIs, key names, IAM roles, etc.&lt;/p>&lt;/blockquote>
&lt;p>Use JMESPath filters for cleaner output:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws ec2 describe-instances --query &lt;span class="s2">&amp;#34;Reservations[_].Instances[_].[InstanceId,PublicIpAddress,State.Name,KeyName,IamInstanceProfile.Arn]&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="2-get-detailed-info-on-a-specific-instance">&lt;strong>2. Get Detailed Info on a Specific Instance&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws ec2 describe-instances --instance-ids &lt;span class="o">[&lt;/span>i-xxxxxxxxxxxxxxx&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="3-identify-iam-role-attached-to-the-instance">&lt;strong>3. Identify IAM Role Attached to the Instance&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws ec2 describe-instances --query &lt;span class="s2">&amp;#34;Reservations[*].Instances[*].IamInstanceProfile.Arn&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>Then grab role name and enumerate permissions:&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam get-instance-profile --instance-profile-name &lt;span class="o">[&lt;/span>name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="4-list-security-groups">&lt;strong>4. List Security Groups&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws ec2 describe-security-groups
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Look for open ports, especially &lt;code>0.0.0.0/0&lt;/code> on SSH (22), RDP (3389), or custom ports.&lt;/p></description></item><item><title>Basic Elastic Beanstalk Enumeration Cheet Sheet</title><link>https://hack.com.cy/notes/cloud/aws/elastic-beanstalk/beanstalk/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/cloud/aws/elastic-beanstalk/beanstalk/</guid><description>&lt;h3 id="list-beanstalk-applications">List Beanstalk applications&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws elasticbeanstalk describe-applications --profile &amp;lt;profile&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Entry point for hunting &lt;strong>app configs and env vars&lt;/strong>.&lt;/p>&lt;/blockquote>
&lt;h3 id="list-environments-for-an-app">List environments for an app&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws elasticbeanstalk describe-environments --application-name &amp;lt;AppName&amp;gt; --profile &amp;lt;profile&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Each environment is a deployed version of the app.&lt;/p>&lt;/blockquote>
&lt;h3 id="get-environment-config">Get environment config&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws elasticbeanstalk describe-configuration-settings --application-name &amp;lt;AppName&amp;gt; --environment-name &amp;lt;EnvName&amp;gt; --profile &amp;lt;profile&amp;gt;
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>&lt;strong>ðŸ”¥ High-value target&lt;/strong>: often leaks &lt;strong>AWS keys, DB creds, API tokens&lt;/strong> in environment variables.&lt;/p>&lt;/blockquote>
&lt;h2 id="using-pacu">&lt;strong>Using Pacu&lt;/strong>&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Pacu &lt;span class="o">(&lt;/span>low_priv_sess:imported-low_priv_sess&lt;span class="o">)&lt;/span> &amp;gt; run elasticbeanstalk__enum --regions us-east-1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>Basic IAM Enumeration Cheet Sheet</title><link>https://hack.com.cy/notes/cloud/aws/iam/iam/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/cloud/aws/iam/iam/</guid><description>&lt;h3 id="1-list-iam-users">&lt;strong>1. List IAM Users&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-users
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="2-get-user-permissions">&lt;strong>2. Get User Permissions&lt;/strong>&lt;/h3>
&lt;h4 id="a-list-attached-managed-policies">a. List attached managed policies&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-attached-user-policies --user-name &lt;span class="o">[&lt;/span>user-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="b-list-inline-policies">b. List inline policies&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-user-policies --user-name &lt;span class="o">[&lt;/span>user-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="c-get-inline-policy-details">c. Get inline policy details&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam get-user-policy --user-name &lt;span class="o">[&lt;/span>user-name&lt;span class="o">]&lt;/span> --policy-name &lt;span class="o">[&lt;/span>policy-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="3-list-iam-groups-and-permissions">&lt;strong>3. List IAM Groups and Permissions&lt;/strong>&lt;/h3>
&lt;h4 id="a-list-groups-for-a-user">a. List groups for a user&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-groups-for-user --user-name &lt;span class="o">[&lt;/span>user-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="b-list-group-policies">b. List group policies&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-attached-group-policies --group-name &lt;span class="o">[&lt;/span>group-name&lt;span class="o">]&lt;/span> aws iam list-group-policies --group-name &lt;span class="o">[&lt;/span>group-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="c-get-inline-group-policy-details">c. Get inline group policy details&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam get-group-policy --group-name &lt;span class="o">[&lt;/span>group-name&lt;span class="o">]&lt;/span> --policy-name &lt;span class="o">[&lt;/span>policy-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="4-list-iam-roles-and-permissions">&lt;strong>4. List IAM Roles and Permissions&lt;/strong>&lt;/h3>
&lt;h4 id="a-list-all-roles">a. List all roles&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-roles
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="b-get-role-details-trust-policy">b. Get role details (trust policy)&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam get-role --role-name &lt;span class="o">[&lt;/span>role-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="c-list-attached-policies">c. List attached policies&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-attached-role-policies --role-name &lt;span class="o">[&lt;/span>role-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="d-list-inline-policies">d. List inline policies&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam list-role-policies --role-name &lt;span class="o">[&lt;/span>role-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="e-get-inline-role-policy-details">e. Get inline role policy details&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam get-role-policy --role-name &lt;span class="o">[&lt;/span>role-name&lt;span class="o">]&lt;/span> --policy-name &lt;span class="o">[&lt;/span>policy-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="5-get-and-decode-policy-documents">&lt;strong>5. Get and Decode Policy Documents&lt;/strong>&lt;/h3>
&lt;h4 id="a-get-a-managed-policy-document-by-arn-or-name">a. Get a managed policy document (by ARN or name)&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam get-policy --policy-arn &lt;span class="o">[&lt;/span>policy-arn&lt;span class="o">]&lt;/span> aws iam get-policy-version --policy-arn &lt;span class="o">[&lt;/span>policy-arn&lt;span class="o">]&lt;/span> --version-id &lt;span class="o">[&lt;/span>version-id&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="6-view-full-iam-snapshot">&lt;strong>6. View Full IAM Snapshot&lt;/strong>&lt;/h3>
&lt;h4 id="a-dump-all-iam-permissions-users-roles-groups-policies">a. Dump all IAM permissions (users, roles, groups, policies)&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws iam get-account-authorization-details
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Use this to build a full IAM permissions map. Add &lt;code>--filter&lt;/code> to target roles/users/groups specifically.&lt;/p></description></item><item><title>Basic Lambda Enumeration Cheet Sheet</title><link>https://hack.com.cy/notes/cloud/aws/lambda/lambda/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/cloud/aws/lambda/lambda/</guid><description>&lt;h3 id="-list-all-lambda-functions">&lt;strong>. List All Lambda Functions&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws lambda list-functions --region &lt;span class="o">[&lt;/span>region&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Shows names, runtimes, ARNs, and last modified dates.&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;h3 id="2-get-detailed-info-on-a-function">&lt;strong>2. Get Detailed Info on a Function&lt;/strong>&lt;/h3>
&lt;h4 id="a-get-full-function-config-iam-role-runtime-env-vars-etc">a. Get full function config (IAM role, runtime, env vars, etc.)&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws lambda get-function-configuration --function-name &lt;span class="o">[&lt;/span>&lt;span class="k">function&lt;/span>-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="b-get-code-download-url--deployment-details">b. Get code download URL + deployment details&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl"> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> aws lambda get-function --function-name &lt;span class="o">[&lt;/span>&lt;span class="k">function&lt;/span>-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Returns a pre-signed S3 URL to download the function code.&lt;/p>&lt;/blockquote>
&lt;hr>
&lt;h3 id="3-check-invocation-access">&lt;strong>3. Check Invocation Access&lt;/strong>&lt;/h3>
&lt;h4 id="a-whowhat-can-invoke-the-function-resource-based-policy">a. Who/what can invoke the function (resource-based policy)?&lt;/h4>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws lambda get-policy --function-name &lt;span class="o">[&lt;/span>&lt;span class="k">function&lt;/span>-name&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Look for &lt;code>&amp;quot;Principal&amp;quot;: &amp;quot;*&amp;quot;&lt;/code> or cross-account permissions.&lt;/p></description></item><item><title>Basic S3 Bucket Enumeration Cheet Sheet</title><link>https://hack.com.cy/notes/cloud/aws/s3/s3/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/cloud/aws/s3/s3/</guid><description>&lt;h3 id="1-list-buckets-in-the-authenticated-account">&lt;strong>1. List Buckets in the Authenticated Account&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws s3 ls
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="2-check-if-a-bucket-exists-no-auth">&lt;strong>2. Check if a Bucket Exists (No Auth)&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws s3 ls s3://&lt;span class="o">[&lt;/span>bucket-name&lt;span class="o">]&lt;/span> --no-sign-request
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="3-list-contents-of-a-public-or-accessible-bucket">&lt;strong>3. List Contents of a Public or Accessible Bucket&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws s3 ls s3://&lt;span class="o">[&lt;/span>bucket-name&lt;span class="o">]&lt;/span>/&lt;span class="o">[&lt;/span>optional-path&lt;span class="o">]&lt;/span> --no-sign-request
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="4-download-an-object">&lt;strong>4. Download an Object&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws s3 cp s3://&lt;span class="o">[&lt;/span>bucket-name&lt;span class="o">]&lt;/span>/&lt;span class="o">[&lt;/span>key&lt;span class="o">]&lt;/span> &lt;span class="o">[&lt;/span>local-file&lt;span class="o">]&lt;/span> --no-sign-request
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h3 id="5-upload-a-file-test-write-access">&lt;strong>5. Upload a File (Test Write Access)&lt;/strong>&lt;/h3>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws s3 cp test.txt s3://&lt;span class="o">[&lt;/span>bucket-name&lt;span class="o">]&lt;/span>/test.txt
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Only works if write access is allowed.&lt;/p></description></item><item><title>Cloudgoat Beanstalk_Secrets Walkthrou</title><link>https://hack.com.cy/writeups/cloudgoat/beanstalk_secrets/beanstalk_secrets/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/writeups/cloudgoat/beanstalk_secrets/beanstalk_secrets/</guid><description>&lt;h1 id="initial-access--credentials">Initial Access / Credentials&lt;/h1>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">initial_low_priv_credentials&lt;/span> &lt;span class="o">=&lt;/span> Access Key: AKIA&lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Secret Key: &lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="awc-cli-profile-creation">AWC CLI profile creation&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws configure --profile low_priv
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AWS Access Key ID &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: AKIA&lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AWS Secret Access Key &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: &lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Default region name &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: us-east-1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Default output format &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Created an aws profile with the credentials given&lt;/p>&lt;/blockquote>
&lt;h2 id="enumeration-with--low_priv-credentials">Enumeration with &lt;code>low_priv&lt;/code> credentials&lt;/h2>
&lt;p>&lt;strong>whoami&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â””â”€$ aws sts get-caller-identity --profile low_priv 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;UserId&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;AIDAUGVOUJQINCWVIJQHB&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Account&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;289202785296&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Arn&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;arn:aws:iam::289202785296:user/cgid9oc3krm0fl_low_priv_user&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Gives us the username&lt;/p>&lt;/blockquote>
&lt;h2 id="iam-enumeration-with-pacu-what-privileges-do-our-user-have">IAM Enumeration with pacu (What Privileges do our user have?)&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">Pacu &lt;span class="o">(&lt;/span>low_priv:imported-low_priv&lt;span class="o">)&lt;/span> &amp;gt; run iam__bruteforce_permissions --region us-east-1
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Used the &lt;strong>iam_bruteforce_permissions&lt;/strong> module from pacu&lt;/p></description></item><item><title>Cloudgoat SNS_Secrets Walkthrou</title><link>https://hack.com.cy/writeups/cloudgoat/sns_secrets/sns_secrets/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/writeups/cloudgoat/sns_secrets/sns_secrets/</guid><description>&lt;h1 id="initial-access--credentials">Initial Access / Credentials&lt;/h1>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">sns_user_access_key_id&lt;/span> &lt;span class="o">=&lt;/span> AKIA&lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">sns_user_secret_access_key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="awc-cli-profile-creation">AWC CLI profile creation&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws configure --profile sns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AWS Access Key ID &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: AKIA&lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AWS Secret Access Key &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: &lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Default region name &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: us-east-1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Default output format &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>-Created an aws profile with the credentials given&lt;/p>&lt;/blockquote>
&lt;h2 id="iam-enumeration-with-sns-credentials">IAM Enumeration with &lt;code>sns&lt;/code> credentials&lt;/h2>
&lt;p>&lt;strong>whoami&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">â””â”€$ aws sts get-caller-identity --profile sns 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;UserId&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;AIDAUGVOUJQILY3KHBHBA&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Account&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;289202785296&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Arn&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;arn:aws:iam::289202785296:user/cg-sns-user-cgid6j1kvw51kk&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Got username &lt;strong>cg-sns-user-cgid6j1kvw51kk&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>List Users Roles Policies and Groups&lt;/strong>&lt;/p></description></item><item><title>Pentesting Cloud</title><link>https://hack.com.cy/notes/cloud/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/cloud/</guid><description>&lt;h2 id="cloud">Cloud&lt;/h2>
&lt;h1 id="aws">&lt;a href="https://hack.com.cy/notes/cloud/aws/">AWS&lt;/a>&lt;/h1></description></item></channel></rss>