<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hacking Blog</title><link>https://hack.com.cy/notes/port-forwarding/chisel/</link><description>Recent content on Hacking Blog</description><generator>Hugo</generator><language>en</language><atom:link href="https://hack.com.cy/notes/port-forwarding/chisel/index.xml" rel="self" type="application/rss+xml"/><item><title>Port Forwarding with Chisel</title><link>https://hack.com.cy/notes/port-forwarding/chisel/chisel/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>https://hack.com.cy/notes/port-forwarding/chisel/chisel/</guid><description>&lt;h1 id="scenario-for-reference">Scenario for Reference&lt;/h1>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Kali&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">tun0&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mf">10.10.15.115&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Ubuntu&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Pivot&lt;/span> 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">ens192&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mf">10.129.110.16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="n">ens224&lt;/span> &lt;span class="o">/&lt;/span> &lt;span class="mf">172.16.5.129&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">Windows&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Unreachable&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">Target&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">-&lt;/span> &lt;span class="mf">172.16.5.19&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="set-up-chisel">Set Up Chisel&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">git clone https://github.com/jpillora/chisel.git
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nb">cd&lt;/span> chisel
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">go build
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="transferring--running-chisel-binary-on-pivot-host">Transferring &amp;amp; Running Chisel binary on Pivot Host&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Kali&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">scp&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">r&lt;/span> &lt;span class="n">chisel&lt;/span> &lt;span class="n">ubuntu&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="mf">10.129.110.16&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">home&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">ubuntu&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">ssh&lt;/span> &lt;span class="n">ubuntu&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="mf">10.129.110.16&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Ubuntu-pivot&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">./&lt;/span>&lt;span class="n">chisel&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">server&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">p&lt;/span> &lt;span class="mi">1234&lt;/span> &lt;span class="o">--&lt;/span>&lt;span class="n">socks5&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;-&amp;gt; Chistel now listens on incoming connecection on port 1234 using SOCKS5 and will forward all traffic to all networks (interfaces) connected on the machine &amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="c1"># Kali &lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">./&lt;/span>&lt;span class="n">chisel&lt;/span> &lt;span class="n">client&lt;/span> &lt;span class="o">-&lt;/span>&lt;span class="n">v&lt;/span> &lt;span class="mf">10.129.110.16&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">1234&lt;/span> &lt;span class="n">socks&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;The output will display the listening port that the client has initiated (tun: proxy#127.0.0.1:PORT&amp;lt;1080&amp;gt;=&amp;gt;socks: Listening)&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">sudo&lt;/span> &lt;span class="n">nano&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">etc&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="n">proxychains4&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">conf&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;socks5 127.0.0.1 1080&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">proxychains&lt;/span> &lt;span class="n">xfreerdp&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">v&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mf">172.16.5.19&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">u&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="n">victor&lt;/span> &lt;span class="o">/&lt;/span>&lt;span class="n">p&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="k">pass&lt;/span>&lt;span class="o">@&lt;/span>&lt;span class="mi">123&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="chisel-reverse-pivot">Chisel Reverse Pivot&lt;/h2>
&lt;blockquote>
&lt;p>When Inbound traffic to pivot-host-ubuntu is blocked&lt;/p></description></item></channel></rss>