<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Hacking Blog</title><link>https://hack.com.cy/writeups/cloudgoat/sns_secrets/</link><description>Recent content on Hacking Blog</description><generator>Hugo</generator><language>en</language><atom:link href="https://hack.com.cy/writeups/cloudgoat/sns_secrets/index.xml" rel="self" type="application/rss+xml"/><item><title>Cloudgoat SNS_Secrets Walkthrou</title><link>https://hack.com.cy/writeups/cloudgoat/sns_secrets/sns_secrets/</link><pubDate>Thu, 21 Aug 2025 00:00:00 +0000</pubDate><guid>https://hack.com.cy/writeups/cloudgoat/sns_secrets/sns_secrets/</guid><description>&lt;h1 id="initial-access--credentials">Initial Access / Credentials&lt;/h1>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">sns_user_access_key_id&lt;/span> &lt;span class="o">=&lt;/span> AKIA&lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="nv">sns_user_secret_access_key&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="awc-cli-profile-creation">AWC CLI profile creation&lt;/h2>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">aws configure --profile sns
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AWS Access Key ID &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: AKIA&lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">AWS Secret Access Key &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: &lt;span class="o">[&lt;/span>REDACTED-CTF&lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Default region name &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: us-east-1
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">Default output format &lt;span class="o">[&lt;/span>None&lt;span class="o">]&lt;/span>: json
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>-Created an aws profile with the credentials given&lt;/p>&lt;/blockquote>
&lt;h2 id="iam-enumeration-with-sns-credentials">IAM Enumeration with &lt;code>sns&lt;/code> credentials&lt;/h2>
&lt;p>&lt;strong>whoami&lt;/strong>&lt;/p>
&lt;div class="highlight">&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">└─$ aws sts get-caller-identity --profile sns 
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;UserId&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;AIDAUGVOUJQILY3KHBHBA&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Account&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;289202785296&amp;#34;&lt;/span>,
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;Arn&amp;#34;&lt;/span>: &lt;span class="s2">&amp;#34;arn:aws:iam::289202785296:user/cg-sns-user-cgid6j1kvw51kk&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="o">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Got username &lt;strong>cg-sns-user-cgid6j1kvw51kk&lt;/strong>&lt;/p>&lt;/blockquote>
&lt;p>&lt;strong>List Users Roles Policies and Groups&lt;/strong>&lt;/p></description></item></channel></rss>